<ion-header>
  <ion-navbar>
    <ion-title>
      <h4>Welcome, {{cUser.name}} </h4>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div *ngFor="let detail of progress" padding>

    <ion-card (click)="markCheckInTP()">
      <ion-item text-center [ngStyle]="{'background': detail.checkedIn? 'rgb(121, 214, 77)':'#dadada'}" text-wrap>
        <ion-icon name="checkmark-circle" *ngIf="detail.checkedIn" item-></ion-icon>
        <ion-icon name="close" *ngIf="!detail.checkedIn" item-left></ion-icon>
        {{detail.checkedIn ? 'You are on site now.': 'You need to reach on site and mark checked in.'}}
      </ion-item>
    </ion-card>

    <ion-card>
      <ion-item text-center [ngStyle]="{'background': detail.photosBefore? 'rgb(121, 214, 77)':'#dadada'}" text-wrap>
        <ion-icon name="checkmark-circle" *ngIf="detail.photosBefore" item-></ion-icon>
        <ion-icon name="close" *ngIf="!detail.photosBefore" item-left></ion-icon>
        {{detail.photosBefore ? 'Photos before service are saved now.': 'Please snap some photos before service and press save.'}}
      </ion-item>
      <ion-grid>
        <ion-row>
          <ion-col *ngFor="let image of snapped">
            <img (click)="showInFullScreen('data:image/jpeg;base64,'+image.image)" src="data:image/jpeg;base64,{{image.image}}" />
          </ion-col>
          <button ion-button block outline (click)="snap(job)">
          <ion-icon name="camera"></ion-icon>
        </button>
        </ion-row>
        <ion-row>
          <button ion-button block (click)="savePicturesBeforeService()">
         Save Pictures
        </button>
        </ion-row>
      </ion-grid>

    </ion-card>

    <ion-card>

    </ion-card>

    <ion-card>

    </ion-card>

  </div>
</ion-content>
